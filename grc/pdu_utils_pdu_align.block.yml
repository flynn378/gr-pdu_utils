# auto-generated by grc.converter

id: pdu_utils_pdu_align
label: PDU Align
category: '[Sandia]/PDU Utilities'

parameters:
-   id: syncwords
    label: Syncwords
    dtype: string
    default: 01010101010101010010110111010100, 10101010101010100010110111010100
-   id: offset
    label: Offset
    dtype: int
    default: '-16'
-   id: threshold
    label: Threshold
    dtype: int
    default: '0'

inputs:
-   domain: message
    id: pdu_in

outputs:
-   domain: message
    id: pdu_out
asserts:
- ${ threshold >= 0 }

templates:
    imports: import pdu_utils
    make: pdu_utils.pdu_align(${syncwords}, ${threshold}, ${offset})

documentation: |-
    Takes in unpacked u8vector PDUs and seaches for a syncword. If found, the block outputs the entire PDU except for the syncword (with a programmable offset). If not found, the PDU is dropped.

    The syncwords field is a string that takes a list of comma separated binary numbers.

    For example, if using the 32-bit syncword 0xDEADBEEF, you would enter it in binary (11011110101011011011111011101111) with an offset of 0. The PDU will be truncated up through the syncword. If the offset is set to -16, 0xDEAD is truncated, but 0xBEEF remains.

    The threshold is the number of bit errors allowed to still count as a match.

file_format: 1
